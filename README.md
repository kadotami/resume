# 職務経歴書

## 概要
学生時(2013年)からwebサービスの開発に従事。創業メンバーとしてベンチャー企業の立ち上げを行ったり、大小様々な企業でインターンを経験。
2017年に新卒でメガベンチャーに入社、開発研究を担当する役員室に配属され、グループ全社を横断する認証・ポイント・決済サービスのリニューアル、企画、運用・開発、新技術の導入検証に従事。
2020年から創業を手伝ったスタートアップに戻り、テックリードとしてレガシー改善や新プロダクトの開発に従事している。

## やりたいこと
#### モデリングを始めとした設計技術の習熟、企画提案能力の向上とビジネスサイドとのコミュニケーションを重んじたシステム設計
今までの経験上、大企業であってもベンチャーであっても技術的負債は少なからず存在し、それによるビジネス成長の鈍化をいくつか見てきた。
負債の原因としては以下が観測できた。

- 設計力の欠如による拡張性のないプログラム
- 企画力の欠如による機能の放棄と放棄されたことを反映しないプログラム
- コミュニケーションの欠如による不要な機能の量産

これらが発生するのは致し方ないとは思うものの最小限に留めるスキルは存在すると思っており、それらの習熟とそれによるビジネスの成長支援ができる人材を目指す。

## スキル
### Web開発
手を動かすのは主にバックエンド開発だが、インフラを含めたアーキテクチャ選定やフロントエンドの開発も経験。

##### バックエンド
静的型付言語ではDDDのレイヤードアーキテクチャ、動的型付け言語ではMVC+logic層の4層アーキテクチャを利用することが多い。ユニットテストについてカバレッジを上げたり、変更容易性について熟考することが好き

新プロダクトの立ち上げ・アーキテクチャ設計経験あり
- NestJS(Typescript)
- Actix Web(Rust)
- Ruby on Rails(Ruby)

開発、運用経験あり
- Yii2(PHP)
- CekePHP(PHP)
- Django(Python)
- FastAPI(Python)

DB
- MySQL
- PostgreSQL
- Oracle

##### フロントエンド
すでに定まっているアーキテクチャ上で要件通りのアプリケーションが作れる。Redux系のアーキテクチャ設計経験はない。

開発、運用経験あり
- Angular(TypeScript)
- React(TypeScript)
- AngularJS(CoffeeScript)
- jQuery(JavaScript)

### アプリ開発
運用までおこなったプロダクト開発経験はなし。
PoC開発経験あり
- Flutter(Dart)
- Unity(C#)

### インフラ
アーキテクチャ設計経験あり
- オンプレ

開発、運用経験あり(全体の構成検討経験はありだが、構築経験はほぼない)
- AWS
- GCP

構成管理
- ansible(運用経験あり)
- terraform(個人開発程度)

コンテナ
- Docker
- Kubernetes


##### 運用・監視ツール
CI/CD
- github actions
- Bamboo
- CideCi
- Travis
- genkins

監視
- newrelic
- zabbix

負荷試験
- Gatling
- k6

##### その他
- git
- Slack
- ChatWork

## 職務経歴
### 株式会社エモーションテック 2020/01 ~ 現在
#### NestJS、FastAPIによるデータ分析サービスの開発
##### 概要
新プロダクトとしてデータ分析をするマイクロサービスを開発。
柔軟かつ平行に様々な分析結果を1つのページに表示するための全体的なアーキテクチャ設計、インフラ技術検討、GCPサービスの検証を行った。

##### 主な取り組み
- インフラ構成の検討
- 概念モデリング
- TypeScriptによる開発方針、テスト方針の確立
  - Jestにおけるユニットテスト、APIのe2eテストの検討
- マイクロサービス運用における構造化ログ方針の策定
- エラーハンドリングの方針決定
  - 各フレームワークにおけるエラーハンドラーやミドルウェアの作成
- 分析結果を並列にPDF生成するための検討
  - PDF生成するための技術調査を方針決定
  - Node.jsによる並列処理の検討とPDF生成のライブラリ選定
- レイヤードアーキテクチャの導入
  - RustのPJでの反省を生かしてユースケースに紐づくQueryServiceの導入

#### Rustによる認証認可基盤の開発
##### 概要
Railsのモノリスプロダクトをマイクロサービスにリニューアルしつつ、新機能を開発するために認証認可基盤を切り出すプロジェクト。
なぜやるのか、どうしてRustなのかは[こちら](https://tech.emotion-tech.co.jp/entry/2021/08/31/164039)をご参照ください。
テストに関する取り組みをイベントで[発表](https://speakerdeck.com/kadotami/rust-he-mowakaranainodewan-zhang-ranaiwebkai-fa-dot-dot-dot-tokorekarawan-zhang-rutameni)

##### 主な取り組み
- 全体的な技術選定
- PostgreSQLによるRow Level Securityの導入検証
  - Saasなので契約ごとのデータを守るためにどうするかSREと相談しながらマルチテナントなどと比較して検証を行った
- リニューアルに基づく概念モデリング
  - ビジネスサイドとコミュニケーションを密にとり、既存機能に足りない機能を実現するためのデータ設計を既存のDB設計にとらわれないように行った
- 権限管理のためのABAC・RBAC複合機能の検討・開発
- Rustによるオブジェクト指向プログラミング
- 4層レイヤードアーキテクチャ導入
  - Domain層にすべての仕様が収まるように記述をし、値オブジェクトでバリデーションできるような設計にしている
- テストコードの設計検討

##### 心がけたこと
- 他プロジェクト（下の設計改善）の様々な失敗から学んだ以下のことを反映させるべく0ベースでプログラムを組んでいる
  - テスト容易性
  - 責務の担保
- Postmanやdbdiagramをつかってレポジトリにそのままコミットできるツールを利用してapi/db設計を行っている
  - ドキュメントがないことにも消耗が激しかったのでドキュメントを書くことで生産性が上がるツールを選定した

##### 取り組みながら学んだこと
- オブジェクト指向プログラミング
- DDD
- マイクロサービスアーキテクチャ

#### Rails/Angularサービスの設計改善とテストの充足
##### 概要
すべてのビジネスロジックがRailsのController、AngularのComponentに記述されているプロダクトの設計改善。
現職入社してすぐに取り組んだプロジェクト。
どこになんの処理を書けばよいのか、書いてあるのかの把握が困難であり、テストが書かれていないため修正するたびにデグレが発生する状況であった。
責務を決めてテストをかけるような設計で新規機能を作り、ドキュメントを残して他のメンバーにその設計に則って開発するように啓蒙活動を行った。

##### 主な取り組み
- Railsへの3層レイヤードアーキテクチャの導入
  - インターフェース層、ロジック層、永続層の3つ
  - Controller全部のせのときよりは責務がはっきりしたが、やはりドメイン共通の処理を共有することが難しいのでActiveRecordを活かす難しさを感じた。
- AngularへのSingle Data Serviceの導入
  - Component, DataService, Model, APIServiceのアーキテクチャ
  - こちらも責務がはっきりし、通信するAPIごとに処理を分けることでモックの利用性、テスト容易性が高まった
- テストの充足
  - RailsはRspec, Angularはjasmine(現在JestとCypressに移行検討中)を用いてテストの書き方を例を用いてドキュメント化し、社内に展開し、テストコードを書くことを徹底した
- Railsのバージョンアップ
  - 放置されていたRailsのバージョンアップ
  - 途中でgemのバグを踏んでハマってしまったのでパッチを書いてcontributeするまで行った。

##### 補足
- 当時のプロジェクトでは200が返却されることなどのテストケースだけが書かれている機能が多数存在し、もともと分岐のない機能が平均のカバレッジを上げていたためカバレッジを目標として成果を測ることをやめた

##### 成果
- コードレビューの観点が統一できたことによって、全仕様に対してテストを書くことが徹底できるようになった
- テストが徹底できたことにより、仕様漏れが激減し、リリース後1ヶ月のデグレ発生報告数が90%以上減少した
- 責務がしっかりしたことでどこに何を記述するか迷いが消え、デグレの発生率が抑えられた事によりメンバーから心理的安全性が上がったという声をいただけるようになった


### GMOインターネット 株式会社 2017/04 ~ 2019/12
#### グループ横断ポイントサイトのリニューアルと決済基盤の作成
##### 概要
10年以上利用され、有効会員数も2000万以上のポイントサイトのフルリニューアルプロジェクト。仕様書も何も残っていない中、動いてるコードから仕様書を作成しリニューアルした。
また、PCIDSSによるカード情報の非保持化を満たすため、グループ会社横断で利用できる決済基盤を作成した。ここで学んだ話を[ポエムとして発表](https://speakerdeck.com/kadotami/pu-gazhong-xue-sheng-falseqing-karacun-zai-surusabisuwomodannaji-shu-dezai-gou-zhu-siteirufalsedaga-dot-dot-dot)

##### 主な取り組み
- SQLに関わる重い機能のチューニング
  - INDEXの張替え、IN句の最適化などを行いつつ、コードで行われていた集計をSQLに任せることで高速化を図った
- CI/CDの作成
  - フルリニューアルだったのでゼロベースでCIを作成した。Atlassian製品を用いてデプロイ時のビルドやテストだけでなく定期実行ジョブなども作成した。全体的なデプロイはansibleで作成していた。
- Docker/Kubernetesの導入
  - vagrantでローカル開発環境を建て、ソースコードがそのままhost上で動いていた状況からDocker化を行い、その後社内初の本番環境Kubernetes導入を行った。
  - 技術検証などは一人で行ったのだがクラスタの構築までCIで回せるようにしたので、何回でも壊して作り直せる環境まで作れたのは良かった。
- 決済基盤の作成
  - グループ横断で利用するため、無停止（メンテナンス禁止）での移行という厳しい条件の中行った。
  - 決済サービスの仕様の読み込みと無停止実現のためのフロー、プログラムの設計
  - 定期実行ジョブによるデータの定期的な同期や失敗時のリカバリー策の提案

##### 成果
- 重かったSQLは最大30倍の速度になり、レコードを大量に保持していてタイムアウトしていたアクセスも正常に動くようになった
- 当たり前のことだがCI/CDの整備によって開発に集中する時間を増やすことができた(約5%のコスト削減)
- Dockerの導入によって環境の破棄、再構築がしやすくなり検証がしやすくなった
- Kubernetesは導入したはいいもののあまり恩恵を実感することなく退職した
- 決済基盤は無事に無停止で移行できカードの非保持化を達成した

#### 人事関連業務（採用・新卒研修運営）
##### 概要
前職・現職共に採用を行っており、前職では採用だけでなく新卒研修の講師と運営を行っていた。

##### 主な取り組み
- 採用面接時の評価項目の考案
  - 誰が面接官でも一定の判断ができるので最低限聞かなくてはならない項目の抽出を行い展開した。
- 学生インターンのカリキュラム決定とメンター業務
  - 短期インターンではその期間内で学んでもらう内容を0から作成し、自分が学生の頃に学びたかったwebサービスの構築運用を体験してもらうカリキュラムと採用につなげるかどうかの採点基準を作成
  - 長期インターンでは学生のレベルに合わせて業務を手伝ってもらい、そのタスクマネジメントを行った
  - どちらもメンターをしており、答えを教えるのではなく自分で解決できるようなヒントを出しながら成功体験に導くような形で指導した
- 新卒研修の運営・講師
  - 約4ヶ月に渡って行われていた60名ほどの新卒の技術研修において、カリキュラムの選定と講師の調整などの運営業務と一部のカリキュラムにおける講師を行った
  - 行った講義は「linuxコマンド基礎」と「git基礎」

# 成果
- 前職ではインターンのおかげで毎年新卒採用で優秀な人材を採ることができた。現職ではインターンを始めたばかりであるが、学生ながら一人でタスクがこなせるだけのスキルは身につけていただけた
- これらの取り組みにおいて前職ではエンジニアながら管理部門のMVPに選出頂いた
- 新卒の研修の成果は担当した新卒がどのように成長したか見る機会がないので不明


## 学生時の活動
### GMOインターネット 株式会社 2015/12 ~ 2017/03


### ヤフー株式会社 2016/04(?) ~ 2017/03

### 株式会社 wizpra 2013/03 ~ 2015/12

